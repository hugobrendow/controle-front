{"ast":null,"code":"import _classCallCheck from \"C:/Users/hugob/projetos/origem/novo-portal/controle-origem/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/hugob/projetos/origem/novo-portal/controle-origem/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@core/components/core-sidebar/core-sidebar.service\";\nexport var ProviderService = /*#__PURE__*/function () {\n  function ProviderService(_httpClient, _coreSidebarService) {\n    _classCallCheck(this, ProviderService);\n\n    this._httpClient = _httpClient;\n    this._coreSidebarService = _coreSidebarService;\n    this.onInvoiceListChanged = new BehaviorSubject({});\n  }\n\n  _createClass(ProviderService, [{\n    key: \"resolve\",\n    value: function resolve(route, state) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        Promise.all([_this.getDataTableRows()]).then(function () {\n          resolve();\n        }, reject);\n      });\n    }\n  }, {\n    key: \"getDataTableRows\",\n    value: function getDataTableRows() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this2._httpClient.get('http://localhost:8080/providers').subscribe(function (response) {\n          _this2.rows = response;\n\n          _this2.onInvoiceListChanged.next(_this2.rows);\n\n          resolve(_this2.rows);\n        }, reject);\n      });\n    }\n  }, {\n    key: \"saveProvider\",\n    value: function saveProvider(provider) {\n      return this._httpClient.post('http://localhost:8080/providers', provider).toPromise();\n    }\n  }, {\n    key: \"updateProvider\",\n    value: function updateProvider(provider, id) {\n      return this._httpClient.put('http://localhost:8080/providers/' + id, provider).toPromise();\n    }\n  }]);\n\n  return ProviderService;\n}();\n\nProviderService.ɵfac = function ProviderService_Factory(t) {\n  return new (t || ProviderService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.CoreSidebarService));\n};\n\nProviderService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProviderService,\n  factory: ProviderService.ɵfac\n});","map":{"version":3,"sources":["C:/Users/hugob/projetos/origem/novo-portal/controle-origem/src/app/main/provider/list-provider/provider.service.ts"],"names":["BehaviorSubject","i0","i1","i2","ProviderService","_httpClient","_coreSidebarService","onInvoiceListChanged","route","state","Promise","resolve","reject","all","getDataTableRows","then","get","subscribe","response","rows","next","provider","post","toPromise","id","put","ɵfac","ProviderService_Factory","t","ɵɵinject","HttpClient","CoreSidebarService","ɵprov","ɵɵdefineInjectable","token","factory"],"mappings":";;AAAA,SAASA,eAAT,QAAgC,MAAhC;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,oDAApB;AACA,WAAaC,eAAb;AACI,2BAAYC,WAAZ,EAAyBC,mBAAzB,EAA8C;AAAA;;AAC1C,SAAKD,WAAL,GAAmBA,WAAnB;AACA,SAAKC,mBAAL,GAA2BA,mBAA3B;AACA,SAAKC,oBAAL,GAA4B,IAAIP,eAAJ,CAAoB,EAApB,CAA5B;AACH;;AALL;AAAA;AAAA,WAMI,iBAAQQ,KAAR,EAAeC,KAAf,EAAsB;AAAA;;AAClB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCF,QAAAA,OAAO,CAACG,GAAR,CAAY,CAAC,KAAI,CAACC,gBAAL,EAAD,CAAZ,EAAuCC,IAAvC,CAA4C,YAAM;AAC9CJ,UAAAA,OAAO;AACV,SAFD,EAEGC,MAFH;AAGH,OAJM,CAAP;AAKH;AAZL;AAAA;AAAA,WAaI,4BAAmB;AAAA;;AACf,aAAO,IAAIF,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAA,MAAI,CAACP,WAAL,CAAiBW,GAAjB,CAAqB,iCAArB,EAAwDC,SAAxD,CAAkE,UAACC,QAAD,EAAc;AAC5E,UAAA,MAAI,CAACC,IAAL,GAAYD,QAAZ;;AACA,UAAA,MAAI,CAACX,oBAAL,CAA0Ba,IAA1B,CAA+B,MAAI,CAACD,IAApC;;AACAR,UAAAA,OAAO,CAAC,MAAI,CAACQ,IAAN,CAAP;AACH,SAJD,EAIGP,MAJH;AAKH,OANM,CAAP;AAOH;AArBL;AAAA;AAAA,WAsBI,sBAAaS,QAAb,EAAuB;AACnB,aAAO,KAAKhB,WAAL,CAAiBiB,IAAjB,CAAsB,iCAAtB,EAAyDD,QAAzD,EAAmEE,SAAnE,EAAP;AACH;AAxBL;AAAA;AAAA,WAyBI,wBAAeF,QAAf,EAAyBG,EAAzB,EAA6B;AACzB,aAAO,KAAKnB,WAAL,CAAiBoB,GAAjB,CAAqB,qCAAqCD,EAA1D,EAA8DH,QAA9D,EAAwEE,SAAxE,EAAP;AACH;AA3BL;;AAAA;AAAA;;AA6BAnB,eAAe,CAACsB,IAAhB,GAAuB,SAASC,uBAAT,CAAiCC,CAAjC,EAAoC;AAAE,SAAO,KAAKA,CAAC,IAAIxB,eAAV,EAA2BH,EAAE,CAAC4B,QAAH,CAAY3B,EAAE,CAAC4B,UAAf,CAA3B,EAAuD7B,EAAE,CAAC4B,QAAH,CAAY1B,EAAE,CAAC4B,kBAAf,CAAvD,CAAP;AAAoG,CAAjK;;AACA3B,eAAe,CAAC4B,KAAhB,GAAwB,aAAc/B,EAAE,CAACgC,kBAAH,CAAsB;AAAEC,EAAAA,KAAK,EAAE9B,eAAT;AAA0B+B,EAAAA,OAAO,EAAE/B,eAAe,CAACsB;AAAnD,CAAtB,CAAtC","sourcesContent":["import { BehaviorSubject } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"@core/components/core-sidebar/core-sidebar.service\";\r\nexport class ProviderService {\r\n    constructor(_httpClient, _coreSidebarService) {\r\n        this._httpClient = _httpClient;\r\n        this._coreSidebarService = _coreSidebarService;\r\n        this.onInvoiceListChanged = new BehaviorSubject({});\r\n    }\r\n    resolve(route, state) {\r\n        return new Promise((resolve, reject) => {\r\n            Promise.all([this.getDataTableRows()]).then(() => {\r\n                resolve();\r\n            }, reject);\r\n        });\r\n    }\r\n    getDataTableRows() {\r\n        return new Promise((resolve, reject) => {\r\n            this._httpClient.get('http://localhost:8080/providers').subscribe((response) => {\r\n                this.rows = response;\r\n                this.onInvoiceListChanged.next(this.rows);\r\n                resolve(this.rows);\r\n            }, reject);\r\n        });\r\n    }\r\n    saveProvider(provider) {\r\n        return this._httpClient.post('http://localhost:8080/providers', provider).toPromise();\r\n    }\r\n    updateProvider(provider, id) {\r\n        return this._httpClient.put('http://localhost:8080/providers/' + id, provider).toPromise();\r\n    }\r\n}\r\nProviderService.ɵfac = function ProviderService_Factory(t) { return new (t || ProviderService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.CoreSidebarService)); };\r\nProviderService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: ProviderService, factory: ProviderService.ɵfac });\r\n"]},"metadata":{},"sourceType":"module"}