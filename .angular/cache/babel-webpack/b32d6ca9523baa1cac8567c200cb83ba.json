{"ast":null,"code":"import _classCallCheck from \"C:/Users/hugob/projetos/origem/novo-portal/controle-origem/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/hugob/projetos/origem/novo-portal/controle-origem/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { DOCUMENT } from '@angular/common';\nimport { animate, style } from '@angular/animations';\nimport { NavigationEnd } from '@angular/router';\nimport { filter, take } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/animations\";\nexport var CoreLoadingScreenService = /*#__PURE__*/function () {\n  /**\r\n   * Constructor\r\n   *\r\n   * @param _document\r\n   * @param {Router} _router\r\n   * @param {AnimationBuilder} _animationBuilder\r\n   */\n  function CoreLoadingScreenService(_document, _router, _animationBuilder) {\n    _classCallCheck(this, CoreLoadingScreenService);\n\n    this._document = _document;\n    this._router = _router;\n    this._animationBuilder = _animationBuilder; // Initialize\n\n    this._init();\n  } // Private methods\n  // -----------------------------------------------------------------------------------------------------\n\n  /**\r\n   * Initialize\r\n   *\r\n   * @private\r\n   */\n\n\n  _createClass(CoreLoadingScreenService, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this = this;\n\n      // Get the loading screen element\n      this.loadingScreenEl = this._document.body.querySelector('#loading-bg'); // If loading screen element\n\n      if (this.loadingScreenEl) {\n        // Hide it on the first NavigationEnd event\n        this._router.events.pipe(filter(function (event) {\n          return event instanceof NavigationEnd;\n        }), take(1)).subscribe(function () {\n          setTimeout(function () {\n            _this.hide();\n          });\n        });\n      }\n    } // Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\r\n     * Show the loading screen\r\n     */\n\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this2 = this;\n\n      this.animationPlayer = this._animationBuilder.build([style({\n        opacity: '0',\n        zIndex: '99999'\n      }), animate('250ms ease', style({\n        opacity: '1'\n      }))]).create(this.loadingScreenEl);\n      setTimeout(function () {\n        _this2.animationPlayer.play();\n      }, 0);\n    }\n    /**\r\n     * Hide the loading screen\r\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this3 = this;\n\n      this.animationPlayer = this._animationBuilder.build([style({\n        opacity: '1'\n      }), animate('250ms ease', style({\n        opacity: '0',\n        zIndex: '-10'\n      }))]).create(this.loadingScreenEl);\n      setTimeout(function () {\n        _this3.loadingScreenEl.remove();\n\n        _this3.animationPlayer.play();\n      }, 0);\n    }\n  }]);\n\n  return CoreLoadingScreenService;\n}();\n\nCoreLoadingScreenService.ɵfac = function CoreLoadingScreenService_Factory(t) {\n  return new (t || CoreLoadingScreenService)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.AnimationBuilder));\n};\n\nCoreLoadingScreenService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CoreLoadingScreenService,\n  factory: CoreLoadingScreenService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:/Users/hugob/projetos/origem/novo-portal/controle-origem/src/@core/services/loading-screen.service.ts"],"names":["DOCUMENT","animate","style","NavigationEnd","filter","take","i0","i1","i2","CoreLoadingScreenService","_document","_router","_animationBuilder","_init","loadingScreenEl","body","querySelector","events","pipe","event","subscribe","setTimeout","hide","animationPlayer","build","opacity","zIndex","create","play","remove","ɵfac","CoreLoadingScreenService_Factory","t","ɵɵinject","Router","AnimationBuilder","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":"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","sourcesContent":["import { DOCUMENT } from '@angular/common';\r\nimport { animate, style } from '@angular/animations';\r\nimport { NavigationEnd } from '@angular/router';\r\nimport { filter, take } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"@angular/animations\";\r\nexport class CoreLoadingScreenService {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param _document\r\n     * @param {Router} _router\r\n     * @param {AnimationBuilder} _animationBuilder\r\n     */\r\n    constructor(_document, _router, _animationBuilder) {\r\n        this._document = _document;\r\n        this._router = _router;\r\n        this._animationBuilder = _animationBuilder;\r\n        // Initialize\r\n        this._init();\r\n    }\r\n    // Private methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n    /**\r\n     * Initialize\r\n     *\r\n     * @private\r\n     */\r\n    _init() {\r\n        // Get the loading screen element\r\n        this.loadingScreenEl = this._document.body.querySelector('#loading-bg');\r\n        // If loading screen element\r\n        if (this.loadingScreenEl) {\r\n            // Hide it on the first NavigationEnd event\r\n            this._router.events\r\n                .pipe(filter(event => event instanceof NavigationEnd), take(1))\r\n                .subscribe(() => {\r\n                setTimeout(() => {\r\n                    this.hide();\r\n                });\r\n            });\r\n        }\r\n    }\r\n    // Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n    /**\r\n     * Show the loading screen\r\n     */\r\n    show() {\r\n        this.animationPlayer = this._animationBuilder\r\n            .build([\r\n            style({\r\n                opacity: '0',\r\n                zIndex: '99999'\r\n            }),\r\n            animate('250ms ease', style({ opacity: '1' }))\r\n        ])\r\n            .create(this.loadingScreenEl);\r\n        setTimeout(() => {\r\n            this.animationPlayer.play();\r\n        }, 0);\r\n    }\r\n    /**\r\n     * Hide the loading screen\r\n     */\r\n    hide() {\r\n        this.animationPlayer = this._animationBuilder\r\n            .build([\r\n            style({ opacity: '1' }),\r\n            animate('250ms ease', style({\r\n                opacity: '0',\r\n                zIndex: '-10'\r\n            }))\r\n        ])\r\n            .create(this.loadingScreenEl);\r\n        setTimeout(() => {\r\n            this.loadingScreenEl.remove();\r\n            this.animationPlayer.play();\r\n        }, 0);\r\n    }\r\n}\r\nCoreLoadingScreenService.ɵfac = function CoreLoadingScreenService_Factory(t) { return new (t || CoreLoadingScreenService)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.AnimationBuilder)); };\r\nCoreLoadingScreenService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: CoreLoadingScreenService, factory: CoreLoadingScreenService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}