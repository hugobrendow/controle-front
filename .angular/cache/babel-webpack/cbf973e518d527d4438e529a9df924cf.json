{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/hugob/projetos/origem/novo-portal/controle-origem/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"C:/Users/hugob/projetos/origem/novo-portal/controle-origem/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/hugob/projetos/origem/novo-portal/controle-origem/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { NavigationEnd } from '@angular/router';\nimport { Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@core/components/core-menu/core-menu.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/flex-layout/extended\";\nimport * as i5 from \"@ngx-translate/core\";\nimport * as i6 from \"@core/directives/core-feather-icons/core-feather-icons\";\nimport * as i7 from \"@core/components/core-menu/vertical/item/item.component\";\nvar _c0 = [\"core-menu-vertical-collapsible\", \"\"];\n\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 5);\n    i0.ɵɵlistener(\"click\", function CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      var ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.toggleOpen($event);\n    });\n    i0.ɵɵtemplate(1, CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_ng_container_1_Template, 1, 0, \"ng-container\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    var _r2 = i0.ɵɵreference(3);\n\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.item.classes);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n  }\n}\n\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 10);\n  }\n\n  if (rf & 2) {\n    var ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"data-feather\", ctx_r8.item.icon);\n  }\n}\n\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"translate\", ctx_r9.item.badge.translate)(\"ngClass\", ctx_r9.item.badge.classes);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.item.badge.title, \" \");\n  }\n}\n\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_0_Template, 1, 1, \"span\", 7);\n    i0.ɵɵelementStart(1, \"span\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_3_Template, 2, 3, \"span\", 9);\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.item.icon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"translate\", ctx_r3.item.translate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.item.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.item.badge);\n  }\n}\n\nvar _c1 = function _c1(a0) {\n  return {\n    disabled: a0\n  };\n};\n\nvar _c2 = function _c2(a0) {\n  return {\n    exact: a0\n  };\n};\n\nvar _c3 = function _c3() {\n  return [];\n};\n\nvar _c4 = function _c4(a0) {\n  return [a0];\n};\n\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 14);\n    i0.ɵɵelement(1, \"span\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"item\", item_r10)(\"ngClass\", i0.ɵɵpureFunction1(5, _c1, item_r10.disabled === true))(\"routerLinkActive\", !item_r10.openInNewTab ? \"active\" : \"\")(\"routerLinkActiveOptions\", i0.ɵɵpureFunction1(7, _c2, item_r10.exactMatch || false));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", item_r10.openInNewTab ? i0.ɵɵpureFunction0(9, _c3) : i0.ɵɵpureFunction1(10, _c4, item_r10.url));\n  }\n}\n\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"li\", 16);\n  }\n\n  if (rf & 2) {\n    var item_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"item\", item_r10);\n  }\n}\n\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_1_Template, 2, 12, \"li\", 12);\n    i0.ɵɵtemplate(2, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_2_Template, 1, 1, \"li\", 13);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var item_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r10.type == \"item\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r10.type == \"collapsible\");\n  }\n}\n\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_Template, 2, 2, \"a\", 1);\n    i0.ɵɵtemplate(2, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_Template, 4, 4, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(4, \"ul\", 3);\n    i0.ɵɵtemplate(5, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_Template, 3, 2, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.item.url);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.item.children);\n  }\n}\n\nexport var CoreMenuVerticalCollapsibleComponent = /*#__PURE__*/function () {\n  /**\r\n   * Constructor\r\n   *\r\n   * @param {Router} _router\r\n   * @param {CoreMenuService} _coreMenuService\r\n   * @param {ChangeDetectorRef} _changeDetectorRef\r\n   */\n  function CoreMenuVerticalCollapsibleComponent(_router, _coreMenuService, _changeDetectorRef) {\n    _classCallCheck(this, CoreMenuVerticalCollapsibleComponent);\n\n    this._router = _router;\n    this._coreMenuService = _coreMenuService;\n    this._changeDetectorRef = _changeDetectorRef;\n    this.isOpen = false; // Set the private defaults\n\n    this._unsubscribeAll = new Subject();\n  } // Lifecycle hooks\n  // -----------------------------------------------------------------------------------------------------\n\n  /**\r\n   * On init\r\n   */\n\n\n  _createClass(CoreMenuVerticalCollapsibleComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      // Listen for router events and expand\n      this._router.events.pipe(filter(function (event) {\n        return event instanceof NavigationEnd;\n      }), takeUntil(this._unsubscribeAll)).subscribe(function (event) {\n        // Confirm if the urlAfterRedirects can be found in one of the children of this item\n        if (_this.confirmUrlInChildren(_this.item, event.urlAfterRedirects)) {\n          _this.expand();\n        } else {\n          _this.collapse();\n        }\n      }); // Subscribe to the current menu changes\n\n\n      this._coreMenuService.onMenuChanged.pipe(takeUntil(this._unsubscribeAll)).subscribe(function () {\n        _this.currentUser = _this._coreMenuService.currentUser;\n      }); // Listen for collapsing of any menu item\n\n\n      this._coreMenuService.onItemCollapsed.pipe(takeUntil(this._unsubscribeAll)).subscribe(function (clickedItem) {\n        if (clickedItem && clickedItem.children) {\n          // Check if the clicked item is one of the children of this item\n          if (_this.confirmItemInChildren(_this.item, clickedItem)) {\n            return;\n          } // Check if the url can be found in one of the children of this item\n\n\n          if (_this.confirmUrlInChildren(_this.item, _this._router.url)) {\n            return;\n          } // If the clicked item is not this item, collapse...\n\n\n          if (_this.item !== clickedItem) {\n            _this.collapse();\n          }\n        }\n      }); // Check if the url can be found in one of the children of this item\n      // Required for onInit case (i.e switching theme customizer menu layout)\n\n\n      if (this.confirmUrlInChildren(this.item, this._router.url)) {\n        this.expand();\n      } else {\n        this.collapse();\n      }\n    }\n    /**\r\n     * On destroy\r\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      // Unsubscribe from all subscriptions\n      this._unsubscribeAll.next();\n\n      this._unsubscribeAll.complete();\n    } // Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\r\n     * Toggle collapse\r\n     *\r\n     * @param e\r\n     */\n\n  }, {\n    key: \"toggleOpen\",\n    value: function toggleOpen(e) {\n      e.preventDefault();\n      this.isOpen = !this.isOpen; // Menu collapse toggled...\n\n      this._coreMenuService.onItemCollapsed.next(this.item);\n\n      this._coreMenuService.onItemCollapseToggled.next();\n    }\n    /**\r\n     * Expand the collapsible menu\r\n     */\n\n  }, {\n    key: \"expand\",\n    value: function expand() {\n      if (this.isOpen) {\n        return;\n      }\n\n      this.isOpen = true; // Mark for check\n\n      this._changeDetectorRef.markForCheck();\n\n      this._coreMenuService.onItemCollapseToggled.next();\n    }\n    /**\r\n     * Collapse the collapsible menu\r\n     */\n\n  }, {\n    key: \"collapse\",\n    value: function collapse() {\n      if (!this.isOpen) {\n        return;\n      }\n\n      this.isOpen = false; // Mark for check\n\n      this._changeDetectorRef.markForCheck();\n\n      this._coreMenuService.onItemCollapseToggled.next();\n    }\n    /**\r\n     * Confirms if the provided url can be found in one of the given parent's children\r\n     *\r\n     * @param parent\r\n     * @param url\r\n     * @returns {boolean}\r\n     */\n\n  }, {\n    key: \"confirmUrlInChildren\",\n    value: function confirmUrlInChildren(parent, url) {\n      var children = parent.children; // Return false if parent don't have any children\n\n      if (!children) {\n        return false;\n      } // Loop all the children\n\n\n      var _iterator = _createForOfIteratorHelper(children),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var child = _step.value;\n\n          // If children has child (Sub to sub item url)\n          if (child.children) {\n            // Call function again with child\n            if (this.confirmUrlInChildren(child, url)) {\n              return true;\n            }\n          } // If child.url is same as provided url\n\n\n          if (child.url === url || url.includes(child.url)) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return false;\n    }\n    /**\r\n     * Check if the provided parent has the provided item in one of its children\r\n     *\r\n     * @param parent\r\n     * @param item\r\n     * @returns {boolean}\r\n     */\n\n  }, {\n    key: \"confirmItemInChildren\",\n    value: function confirmItemInChildren(parent, item) {\n      var children = parent.children; // Return false if parent don't have any children\n\n      if (!children) {\n        return false;\n      } // Return true parent has the provided item in one of its children\n\n\n      if (children.indexOf(item) > -1) {\n        return true;\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(children),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var child = _step2.value;\n\n          if (child.children) {\n            // Call function again with child (for sub to sub item)\n            if (this.confirmItemInChildren(child, item)) {\n              return true;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return false;\n    }\n  }]);\n\n  return CoreMenuVerticalCollapsibleComponent;\n}();\n\nCoreMenuVerticalCollapsibleComponent.ɵfac = function CoreMenuVerticalCollapsibleComponent_Factory(t) {\n  return new (t || CoreMenuVerticalCollapsibleComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CoreMenuService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n\nCoreMenuVerticalCollapsibleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CoreMenuVerticalCollapsibleComponent,\n  selectors: [[\"\", \"core-menu-vertical-collapsible\", \"\"]],\n  hostVars: 2,\n  hostBindings: function CoreMenuVerticalCollapsibleComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"open\", ctx.isOpen);\n    }\n  },\n  inputs: {\n    item: \"item\"\n  },\n  attrs: _c0,\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"class\", \"d-flex align-items-center\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"itemContent\", \"\"], [1, \"menu-content\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"align-items-center\", 3, \"ngClass\", \"click\"], [4, \"ngTemplateOutlet\"], [3, \"data-feather\", 4, \"ngIf\"], [1, \"menu-title\", \"text-truncate\", 3, \"translate\"], [\"class\", \"badge ml-auto mr-1\", 3, \"translate\", \"ngClass\", 4, \"ngIf\"], [3, \"data-feather\"], [1, \"badge\", \"ml-auto\", \"mr-1\", 3, \"translate\", \"ngClass\"], [\"core-menu-vertical-item\", \"\", 3, \"item\", \"ngClass\", \"routerLinkActive\", \"routerLinkActiveOptions\", 4, \"ngIf\"], [\"core-menu-vertical-collapsible\", \"\", \"class\", \"nav-item has-sub\", 3, \"item\", 4, \"ngIf\"], [\"core-menu-vertical-item\", \"\", 3, \"item\", \"ngClass\", \"routerLinkActive\", \"routerLinkActiveOptions\"], [1, \"d-none\", 3, \"routerLink\"], [\"core-menu-vertical-collapsible\", \"\", 1, \"nav-item\", \"has-sub\", 3, \"item\"]],\n  template: function CoreMenuVerticalCollapsibleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CoreMenuVerticalCollapsibleComponent_ng_container_0_Template, 6, 2, \"ng-container\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.item.hidden);\n    }\n  },\n  directives: [i3.NgIf, i3.NgForOf, i3.NgClass, i4.DefaultClassDirective, i3.NgTemplateOutlet, i5.TranslateDirective, i6.FeatherIconDirective, i7.CoreMenuVerticalItemComponent, i1.RouterLinkActive, i1.RouterLink, CoreMenuVerticalCollapsibleComponent],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/hugob/projetos/origem/novo-portal/controle-origem/src/@core/components/core-menu/vertical/collapsible/collapsible.component.ts"],"names":["NavigationEnd","Subject","filter","takeUntil","i0","i1","i2","i3","i4","i5","i6","i7","_c0","CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_ng_container_1_Template","rf","ctx","ɵɵelementContainer","CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_Template","_r7","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_Template_a_click_0_listener","$event","ɵɵrestoreView","ctx_r6","ɵɵnextContext","toggleOpen","ɵɵtemplate","ɵɵelementEnd","_r2","ɵɵreference","ctx_r1","ɵɵproperty","item","classes","ɵɵadvance","CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_0_Template","ɵɵelement","ctx_r8","icon","CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_3_Template","ɵɵtext","ctx_r9","badge","translate","ɵɵtextInterpolate1","title","CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_Template","ctx_r3","ɵɵtextInterpolate","_c1","a0","disabled","_c2","exact","_c3","_c4","CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_1_Template","item_r10","$implicit","ɵɵpureFunction1","openInNewTab","exactMatch","ɵɵpureFunction0","url","CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_2_Template","CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","type","CoreMenuVerticalCollapsibleComponent_ng_container_0_Template","ɵɵtemplateRefExtractor","ctx_r0","children","CoreMenuVerticalCollapsibleComponent","_router","_coreMenuService","_changeDetectorRef","isOpen","_unsubscribeAll","events","pipe","event","subscribe","confirmUrlInChildren","urlAfterRedirects","expand","collapse","onMenuChanged","currentUser","onItemCollapsed","clickedItem","confirmItemInChildren","next","complete","e","preventDefault","onItemCollapseToggled","markForCheck","parent","child","includes","indexOf","ɵfac","CoreMenuVerticalCollapsibleComponent_Factory","t","ɵɵdirectiveInject","Router","CoreMenuService","ChangeDetectorRef","ɵcmp","ɵɵdefineComponent","selectors","hostVars","hostBindings","CoreMenuVerticalCollapsibleComponent_HostBindings","ɵɵclassProp","inputs","attrs","decls","vars","consts","template","CoreMenuVerticalCollapsibleComponent_Template","hidden","directives","NgIf","NgForOf","NgClass","DefaultClassDirective","NgTemplateOutlet","TranslateDirective","FeatherIconDirective","CoreMenuVerticalItemComponent","RouterLinkActive","RouterLink","encapsulation"],"mappings":"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","sourcesContent":["import { NavigationEnd } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"@core/components/core-menu/core-menu.service\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"@angular/flex-layout/extended\";\r\nimport * as i5 from \"@ngx-translate/core\";\r\nimport * as i6 from \"@core/directives/core-feather-icons/core-feather-icons\";\r\nimport * as i7 from \"@core/components/core-menu/vertical/item/item.component\";\r\nconst _c0 = [\"core-menu-vertical-collapsible\", \"\"];\r\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainer(0);\r\n} }\r\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r7 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"a\", 5);\r\n    i0.ɵɵlistener(\"click\", function CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_Template_a_click_0_listener($event) { i0.ɵɵrestoreView(_r7); const ctx_r6 = i0.ɵɵnextContext(2); return ctx_r6.toggleOpen($event); });\r\n    i0.ɵɵtemplate(1, CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_ng_container_1_Template, 1, 0, \"ng-container\", 6);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    i0.ɵɵnextContext();\r\n    const _r2 = i0.ɵɵreference(3);\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.item.classes);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\r\n} }\r\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"span\", 10);\r\n} if (rf & 2) {\r\n    const ctx_r8 = i0.ɵɵnextContext(3);\r\n    i0.ɵɵproperty(\"data-feather\", ctx_r8.item.icon);\r\n} }\r\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 11);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r9 = i0.ɵɵnextContext(3);\r\n    i0.ɵɵproperty(\"translate\", ctx_r9.item.badge.translate)(\"ngClass\", ctx_r9.item.badge.classes);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.item.badge.title, \" \");\r\n} }\r\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵtemplate(0, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_0_Template, 1, 1, \"span\", 7);\r\n    i0.ɵɵelementStart(1, \"span\", 8);\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(3, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_span_3_Template, 2, 3, \"span\", 9);\r\n} if (rf & 2) {\r\n    const ctx_r3 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.item.icon);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"translate\", ctx_r3.item.translate);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(ctx_r3.item.title);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.item.badge);\r\n} }\r\nconst _c1 = function (a0) { return { disabled: a0 }; };\r\nconst _c2 = function (a0) { return { exact: a0 }; };\r\nconst _c3 = function () { return []; };\r\nconst _c4 = function (a0) { return [a0]; };\r\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\", 14);\r\n    i0.ɵɵelement(1, \"span\", 15);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const item_r10 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵproperty(\"item\", item_r10)(\"ngClass\", i0.ɵɵpureFunction1(5, _c1, item_r10.disabled === true))(\"routerLinkActive\", !item_r10.openInNewTab ? \"active\" : \"\")(\"routerLinkActiveOptions\", i0.ɵɵpureFunction1(7, _c2, item_r10.exactMatch || false));\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"routerLink\", item_r10.openInNewTab ? i0.ɵɵpureFunction0(9, _c3) : i0.ɵɵpureFunction1(10, _c4, item_r10.url));\r\n} }\r\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"li\", 16);\r\n} if (rf & 2) {\r\n    const item_r10 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵproperty(\"item\", item_r10);\r\n} }\r\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtemplate(1, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_1_Template, 2, 12, \"li\", 12);\r\n    i0.ɵɵtemplate(2, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_li_2_Template, 1, 1, \"li\", 13);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const item_r10 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", item_r10.type == \"item\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", item_r10.type == \"collapsible\");\r\n} }\r\nfunction CoreMenuVerticalCollapsibleComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtemplate(1, CoreMenuVerticalCollapsibleComponent_ng_container_0_a_1_Template, 2, 2, \"a\", 1);\r\n    i0.ɵɵtemplate(2, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_template_2_Template, 4, 4, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\r\n    i0.ɵɵelementStart(4, \"ul\", 3);\r\n    i0.ɵɵtemplate(5, CoreMenuVerticalCollapsibleComponent_ng_container_0_ng_container_5_Template, 3, 2, \"ng-container\", 4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.item.url);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.item.children);\r\n} }\r\nexport class CoreMenuVerticalCollapsibleComponent {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param {Router} _router\r\n     * @param {CoreMenuService} _coreMenuService\r\n     * @param {ChangeDetectorRef} _changeDetectorRef\r\n     */\r\n    constructor(_router, _coreMenuService, _changeDetectorRef) {\r\n        this._router = _router;\r\n        this._coreMenuService = _coreMenuService;\r\n        this._changeDetectorRef = _changeDetectorRef;\r\n        this.isOpen = false;\r\n        // Set the private defaults\r\n        this._unsubscribeAll = new Subject();\r\n    }\r\n    // Lifecycle hooks\r\n    // -----------------------------------------------------------------------------------------------------\r\n    /**\r\n     * On init\r\n     */\r\n    ngOnInit() {\r\n        // Listen for router events and expand\r\n        this._router.events\r\n            .pipe(filter(event => event instanceof NavigationEnd), takeUntil(this._unsubscribeAll))\r\n            .subscribe((event) => {\r\n            // Confirm if the urlAfterRedirects can be found in one of the children of this item\r\n            if (this.confirmUrlInChildren(this.item, event.urlAfterRedirects)) {\r\n                this.expand();\r\n            }\r\n            else {\r\n                this.collapse();\r\n            }\r\n        });\r\n        // Subscribe to the current menu changes\r\n        this._coreMenuService.onMenuChanged.pipe(takeUntil(this._unsubscribeAll)).subscribe(() => {\r\n            this.currentUser = this._coreMenuService.currentUser;\r\n        });\r\n        // Listen for collapsing of any menu item\r\n        this._coreMenuService.onItemCollapsed.pipe(takeUntil(this._unsubscribeAll)).subscribe(clickedItem => {\r\n            if (clickedItem && clickedItem.children) {\r\n                // Check if the clicked item is one of the children of this item\r\n                if (this.confirmItemInChildren(this.item, clickedItem)) {\r\n                    return;\r\n                }\r\n                // Check if the url can be found in one of the children of this item\r\n                if (this.confirmUrlInChildren(this.item, this._router.url)) {\r\n                    return;\r\n                }\r\n                // If the clicked item is not this item, collapse...\r\n                if (this.item !== clickedItem) {\r\n                    this.collapse();\r\n                }\r\n            }\r\n        });\r\n        // Check if the url can be found in one of the children of this item\r\n        // Required for onInit case (i.e switching theme customizer menu layout)\r\n        if (this.confirmUrlInChildren(this.item, this._router.url)) {\r\n            this.expand();\r\n        }\r\n        else {\r\n            this.collapse();\r\n        }\r\n    }\r\n    /**\r\n     * On destroy\r\n     */\r\n    ngOnDestroy() {\r\n        // Unsubscribe from all subscriptions\r\n        this._unsubscribeAll.next();\r\n        this._unsubscribeAll.complete();\r\n    }\r\n    // Public methods\r\n    // -----------------------------------------------------------------------------------------------------\r\n    /**\r\n     * Toggle collapse\r\n     *\r\n     * @param e\r\n     */\r\n    toggleOpen(e) {\r\n        e.preventDefault();\r\n        this.isOpen = !this.isOpen;\r\n        // Menu collapse toggled...\r\n        this._coreMenuService.onItemCollapsed.next(this.item);\r\n        this._coreMenuService.onItemCollapseToggled.next();\r\n    }\r\n    /**\r\n     * Expand the collapsible menu\r\n     */\r\n    expand() {\r\n        if (this.isOpen) {\r\n            return;\r\n        }\r\n        this.isOpen = true;\r\n        // Mark for check\r\n        this._changeDetectorRef.markForCheck();\r\n        this._coreMenuService.onItemCollapseToggled.next();\r\n    }\r\n    /**\r\n     * Collapse the collapsible menu\r\n     */\r\n    collapse() {\r\n        if (!this.isOpen) {\r\n            return;\r\n        }\r\n        this.isOpen = false;\r\n        // Mark for check\r\n        this._changeDetectorRef.markForCheck();\r\n        this._coreMenuService.onItemCollapseToggled.next();\r\n    }\r\n    /**\r\n     * Confirms if the provided url can be found in one of the given parent's children\r\n     *\r\n     * @param parent\r\n     * @param url\r\n     * @returns {boolean}\r\n     */\r\n    confirmUrlInChildren(parent, url) {\r\n        const children = parent.children;\r\n        // Return false if parent don't have any children\r\n        if (!children) {\r\n            return false;\r\n        }\r\n        // Loop all the children\r\n        for (const child of children) {\r\n            // If children has child (Sub to sub item url)\r\n            if (child.children) {\r\n                // Call function again with child\r\n                if (this.confirmUrlInChildren(child, url)) {\r\n                    return true;\r\n                }\r\n            }\r\n            // If child.url is same as provided url\r\n            if (child.url === url || url.includes(child.url)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Check if the provided parent has the provided item in one of its children\r\n     *\r\n     * @param parent\r\n     * @param item\r\n     * @returns {boolean}\r\n     */\r\n    confirmItemInChildren(parent, item) {\r\n        const children = parent.children;\r\n        // Return false if parent don't have any children\r\n        if (!children) {\r\n            return false;\r\n        }\r\n        // Return true parent has the provided item in one of its children\r\n        if (children.indexOf(item) > -1) {\r\n            return true;\r\n        }\r\n        for (const child of children) {\r\n            if (child.children) {\r\n                // Call function again with child (for sub to sub item)\r\n                if (this.confirmItemInChildren(child, item)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\nCoreMenuVerticalCollapsibleComponent.ɵfac = function CoreMenuVerticalCollapsibleComponent_Factory(t) { return new (t || CoreMenuVerticalCollapsibleComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CoreMenuService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\r\nCoreMenuVerticalCollapsibleComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CoreMenuVerticalCollapsibleComponent, selectors: [[\"\", \"core-menu-vertical-collapsible\", \"\"]], hostVars: 2, hostBindings: function CoreMenuVerticalCollapsibleComponent_HostBindings(rf, ctx) { if (rf & 2) {\r\n        i0.ɵɵclassProp(\"open\", ctx.isOpen);\r\n    } }, inputs: { item: \"item\" }, attrs: _c0, decls: 1, vars: 1, consts: [[4, \"ngIf\"], [\"class\", \"d-flex align-items-center\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"itemContent\", \"\"], [1, \"menu-content\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"align-items-center\", 3, \"ngClass\", \"click\"], [4, \"ngTemplateOutlet\"], [3, \"data-feather\", 4, \"ngIf\"], [1, \"menu-title\", \"text-truncate\", 3, \"translate\"], [\"class\", \"badge ml-auto mr-1\", 3, \"translate\", \"ngClass\", 4, \"ngIf\"], [3, \"data-feather\"], [1, \"badge\", \"ml-auto\", \"mr-1\", 3, \"translate\", \"ngClass\"], [\"core-menu-vertical-item\", \"\", 3, \"item\", \"ngClass\", \"routerLinkActive\", \"routerLinkActiveOptions\", 4, \"ngIf\"], [\"core-menu-vertical-collapsible\", \"\", \"class\", \"nav-item has-sub\", 3, \"item\", 4, \"ngIf\"], [\"core-menu-vertical-item\", \"\", 3, \"item\", \"ngClass\", \"routerLinkActive\", \"routerLinkActiveOptions\"], [1, \"d-none\", 3, \"routerLink\"], [\"core-menu-vertical-collapsible\", \"\", 1, \"nav-item\", \"has-sub\", 3, \"item\"]], template: function CoreMenuVerticalCollapsibleComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, CoreMenuVerticalCollapsibleComponent_ng_container_0_Template, 6, 2, \"ng-container\", 0);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.item.hidden);\r\n    } }, directives: [i3.NgIf, i3.NgForOf, i3.NgClass, i4.DefaultClassDirective, i3.NgTemplateOutlet, i5.TranslateDirective, i6.FeatherIconDirective, i7.CoreMenuVerticalItemComponent, i1.RouterLinkActive, i1.RouterLink, CoreMenuVerticalCollapsibleComponent], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}